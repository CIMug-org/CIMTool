<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" >
<html xmlns="http://www.w3.org/1999/xhtml">
      <head>
        <title>Associations and Anonymous Classes</title>
        <link type="text/css" rel="stylesheet" href="graphic.css" />
        <link type="image/x-icon" rel="icon" href="favicon.ico" />
        <link type="image/x-icon" rel="shortcut icon" href="favicon.ico" />  
            
      </head>
      <body>
        
        <div id="banner">
          <img src="illust-composite.png" id="illust" />
          <img src="logo-composite.png" id="logo" />
          <h1>Associations and Anonymous Classes</h1>
        </div>
        <div id="main">
          <div id="content"><p>This note explains how to profile associations including how to define anonymous classes for the object of an association.  Let's begin.</p><h2>Adding the Association</h2><p>Select the class in the profile outline. </p><p><img src="association1.png" /></p><p>The Add/Remove page shows the available attributes and associations.  Select an association (e.g. EnergyConsumer) in the right hand panel. </p><p><img src="association2.png" /></p><p>Click the left arrow <img src="add_button2.png" /> to move it left thus adding it to the profile.</p><p><img src="association3.png" /></p><h2>Restrict the Association</h2><p>Double click the newly added EnergyConsumer association (or just select in in the outline) <strong>and</strong> switch to the Restriction page.</p><p><img src="association4.png" /></p><p>Now:</p><ul><li>Click the <em>By Reference</em> checkbox if the object of the association will be external to the instance message or document and thus outside the scope of the profile.  </li><li>Set the <em>Min</em> and <em>Max</em> cardinalities either with explicit numbers or using the checkboxes.</li><li>Choose a class as the object of the association from among the compatible classes already defined in this profile.  In this example,  ConformLoad (a concrete class) and its base class EnergyConsumer are available.</li></ul><p>But, what if the desired class is not yet defined in the profile?  </p><h2>Adding a New Class for the Association</h2><p>Switch to the Add/Remove page and all of the compatible classes for the EnergyConsumer association in the CIM are shown in the right pane.  For this example we highlighted NonConformLoad which was one of the classes not yet in the profile.</p><p><img src="association5.png" /></p><p>Clicking the left arrow now does two things: it adds NonConformLoad to the profile (if it does not immediately appear in the outline then click  save).</p><p><img src="association6.png" /></p><p>Also, the newly added class becomes the object of the EnergyConsumer association, which can be seen on the Restriction page.</p><p><img src="association7.png" /></p><p>Incidentally, if we instead selected CIM class ConformLoad and clicked the left arrow (add) then its existing profile class  would become the object of the association.  No new class would be added to the profile.</p><h2>Adding and Anonymous Class for the Association</h2><p>The newly added NonConformLoad is a named profile class.  It appears at the top level in the outline (as seen above) and will be translated into a named complexType (if XML schema is generated).  </p><p>Instead, it is possible to add an anonymous profile class for CIM class NonConformLoad.  Instead of clicking the left arrow, the anonymous class button, top right <img src="add_button1.png" /> is used.  The result looks like this:</p><p><img src="association8.png" /></p><p>The anonymous class is represented by a hollow box in the right pane.  It does not appear at the top level of the outline display and it will be translated into an anonymous complexType (in XML schema) nested within the association element definition.</p><p>This is only useful when the class will only appear once in the profile. Or, if more than once, when each appearance requires a different definition.  It is always possible to use a named class instead of an anonymous class and doing so does not change the semantics of the profile or the interpretation of the generated XML Schema.  When more than one profile class is required for the same CIM class they can be given different names and definitions as described in <a class="internal" href="PLUGINS_ROOT/au.com.langdale.cimtoole.help/html/MultipleProfiles.html">Multiple Profiles</a>.  </p><p>Earlier versions of CIMTool generated anonymous classes by default. See: why there are so many top level definitions in an XML schema profile for more discussion.</p></div>
          
          <div id="menu"><ul>
    
    </ul></div>
        </div>  
        <div id="footer"></div>
          
      </body>
    </html>