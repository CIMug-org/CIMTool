<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" >
<html xmlns="http://www.w3.org/1999/xhtml">
      <head>
        <title>Generating a Database Schema</title>
        <link href="graphic.css" type="text/css" rel="stylesheet" />
        <link href="favicon.ico" type="image/x-icon" rel="icon" />
        <link href="favicon.ico" type="image/x-icon" rel="shortcut icon" />  
            
      </head>
      <body>
        
        <div id="banner">
          <img src="illust-composite.png" id="illust" />
          <img src="logo-composite.png" id="logo" />
          <h1>Generating a Database Schema</h1>
        </div>
        <div id="main">
          <div id="content"><p>CIMTool can generate a database schema based on a CIM profile.   Potential uses of this feature might include:</p><ul><li>Prototyping a CIM-based application, or</li><li>Creating a staging store for CIM-based data</li></ul><h3>Caveat Emptor</h3><p>You could use a generated schema in a production application or product.  However, there is a catch: a new CIM version is released each year.  </p><p>The use of a profile provides some protection against CIM changes.  In some cases the profile can remain the same even though the underlying CIM changes.   </p><p>Even so, it may be difficult to prevent the churn in CIM versions from impacting the schema and the impact of that on the application as a whole may be unsustainable.</p><h3>Getting Started</h3><p>To generate SQL statements for a profile, select the &quot;SQL&quot; checkbox on the summary page in the profile editor.  When the profile is saved, a file with the same name as the profile and extension &quot;.sql&quot; will be generated in the Profile folder of the project. </p><h3>What is in the Schema</h3><p>The generated schema closely follows the structure of the profile as seen the Outline view.  </p><ul><li>Each <strong>ordinary class</strong> results in a table.<ul><li>A primary key column called &quot;mRID&quot; is declared.</li></ul></li><li>Each <strong>enumerated class</strong> results in a table<ul><li>A primary key column called &quot;name&quot; is declared.</li><li>An record is inserted for each enumerated value.</li></ul></li><li>Each <strong>datatype property</strong> (UML attribute) results in a column. <ul><li>The column type is selected on the basis of the XML Schema Part II datatype of the property.</li><li>If the property is required (minimum cardinality of 1) the column is marked NOT NULL.</li></ul></li><li>Each <strong>enumeration property</strong> (UML enumeration attribute) results in a column <ul><li>A foreign key constraint is added such that the referenced table corresponds to the property type and the referenced column is &quot;name&quot;.</li><li>If the property is required (minimum cardinality of 1) the column is marked NOT NULL. </li></ul></li><li>Each <strong>object property</strong> (UML association) results in a column <ul><li>The maximum cardinality of the property must be 1 (many valued properties are ignored).</li><li>A foreign key constraint is added such that the referenced table corresponds to the property type and the referenced column is &quot;mRID&quot;. </li><li>If the property is required (minimum cardinality of 1) the column is marked NOT NULL. </li></ul></li><li>Each <strong>subclass relationship</strong> results in a foreign key constraint.  <ul><li>The foreign key is defined on the &quot;mRID&quot; column of the subclass table and references the &quot;mRID&quot; column of the superclass table.</li></ul></li></ul><h3>Guidelines for Profiles</h3><p>There are a few guidelines that should be observed when constructing profiles for database schemas. They concern:</p><ul><li>Choice of Identifiers</li><li>Profile Structure</li></ul><h3>Choice of Identifiers</h3><p>Database systems generally place a length limit on table and column names and these names are normally case-insensitive.  <br />CIM class, attribute and association role names are sometimes longer than the limit and are case sensitive.  </p><p>The identifiers  in the profile are by default copied from the CIM, but can be changed on the detail page of the profile editor.  In most cases only one or two names need to be changed in the profile to comply with the database restrictions.</p><h3>Profile Structure</h3><p>It is possible to create a profile with a property referencing a class outside the profile.   A profile may also contain local (or nested) class definitions.   In either case, the generated schema will contain an invalid foreign key constraint because the referenced table will not exist in the schema.</p><p>The rule is that the type of each object property and each enumeration property must be a global class. Global classes are the named classes and appear at the first level of the profile outline display.</p><p>The Reorganize and Repair tool can be used to enforce this rule.  This tool is activated from the summary page of the profile editor.  The &quot;Reorganize profile per RDFS rules&quot; option will introduce any global classes needed.</p><p>(Note that this option makes other changes as well.  It merges classes based on the same schema class into a single profile class. It also merges all restrictions of the same schema property into a single restriction.  The merged restriction is moved to the common base class of the individual restrictions. If necessary that class is added to the profile.)</p></div>
          
          <div id="menu"><ul>
    
    </ul></div>
        </div>  
        <div id="footer"></div>
          
      </body>
    </html>